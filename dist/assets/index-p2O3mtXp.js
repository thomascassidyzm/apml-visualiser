var It=Object.defineProperty;var Ot=(t,e,n)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ve=(t,e,n)=>Ot(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function O(){}function Re(t,e){for(const n in e)t[n]=e[n];return t}function $t(t){return t()}function nt(){return Object.create(null)}function se(t){t.forEach($t)}function Ye(t){return typeof t=="function"}function ae(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function zt(t){return Object.keys(t).length===0}function Tt(t,...e){if(t==null){for(const l of e)l(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ke(t,e,n){t.$$.on_destroy.push(Tt(e,n))}function u(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function Ne(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function v(){return T(" ")}function $e(){return T("")}function G(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function Q(t,e){t.value=e??""}function Ee(t,e,n){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function lt(t){const e=t.querySelector(":checked");return e&&e.__value}function Vt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function He(t,e){return new t(e)}let Le;function Se(t){Le=t}function ze(){if(!Le)throw new Error("Function called outside component initialization");return Le}function Bt(t){ze().$$.on_mount.push(t)}function Ut(t){ze().$$.after_update.push(t)}function Gt(t){ze().$$.on_destroy.push(t)}function Wt(){const t=ze();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=Vt(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}function st(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const ye=[],Ge=[];let Ce=[];const it=[],jt=Promise.resolve();let We=!1;function Et(){We||(We=!0,jt.then(Rt))}function Dt(){return Et(),jt}function Ae(t){Ce.push(t)}const Be=new Set;let we=0;function Rt(){if(we!==0)return;const t=Le;do{try{for(;we<ye.length;){const e=ye[we];we++,Se(e),Xt(e.$$)}}catch(e){throw ye.length=0,we=0,e}for(Se(null),ye.length=0,we=0;Ge.length;)Ge.pop()();for(let e=0;e<Ce.length;e+=1){const n=Ce[e];Be.has(n)||(Be.add(n),n())}Ce.length=0}while(ye.length);for(;it.length;)it.pop()();We=!1,Be.clear(),Se(t)}function Xt(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ae)}}function Yt(t){const e=[],n=[];Ce.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Ce=e}const De=new Set;let me;function Ke(){me={r:0,c:[],p:me}}function Qe(){me.r||se(me.c),me=me.p}function Z(t,e){t&&t.i&&(De.delete(t),t.i(e))}function te(t,e,n,l){if(t&&t.o){if(De.has(t))return;De.add(t),me.c.push(()=>{De.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function qe(t,e){const n={},l={},s={$$scope:1};let r=t.length;for(;r--;){const i=t[r],o=e[r];if(o){for(const c in i)c in o||(l[c]=1);for(const c in o)s[c]||(n[c]=o[c],s[c]=1);t[r]=o}else for(const c in i)s[c]=1}for(const i in l)i in n||(n[i]=void 0);return n}function Ie(t){return typeof t=="object"&&t!==null?t:{}}function oe(t){t&&t.c()}function ne(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),Ae(()=>{const r=t.$$.on_mount.map($t).filter(Ye);t.$$.on_destroy?t.$$.on_destroy.push(...r):se(r),t.$$.on_mount=[]}),s.forEach(Ae)}function le(t,e){const n=t.$$;n.fragment!==null&&(Yt(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kt(t,e){t.$$.dirty[0]===-1&&(ye.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,l,s,r,i=null,o=[-1]){const c=Le;Se(t);const a=t.$$={fragment:null,ctx:[],props:r,update:O,not_equal:s,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:nt(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};i&&i(a.root);let p=!1;if(a.ctx=n?n(t,e.props||{},(g,m,...h)=>{const b=h.length?h[0]:m;return a.ctx&&s(a.ctx[g],a.ctx[g]=b)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](b),p&&Kt(t,g)),m}):[],a.update(),p=!0,se(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const g=Ft(e.target);a.fragment&&a.fragment.l(g),g.forEach(S)}else a.fragment&&a.fragment.c();e.intro&&Z(t.$$.fragment),ne(t,e.target,e.anchor),Rt()}Se(c)}class be{constructor(){Ve(this,"$$");Ve(this,"$$set")}$destroy(){le(this,1),this.$destroy=O}$on(e,n){if(!Ye(n))return O;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!zt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qt);const xe=[];function Ht(t,e){return{subscribe:_e(t,e).subscribe}}function _e(t,e=O){let n;const l=new Set;function s(o){if(ae(t,o)&&(t=o,n)){const c=!xe.length;for(const a of l)a[1](),xe.push(a,t);if(c){for(let a=0;a<xe.length;a+=2)xe[a][0](xe[a+1]);xe.length=0}}}function r(o){s(o(t))}function i(o,c=O){const a=[o,c];return l.add(a),l.size===1&&(n=e(s,r)||O),o(t),()=>{l.delete(a),l.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:i}}function Fe(t,e,n){const l=!Array.isArray(t),s=l?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Ht(n,(i,o)=>{let c=!1;const a=[];let p=0,g=O;const m=()=>{if(p)return;g();const b=e(l?a[0]:a,i,o);r?i(b):g=Ye(b)?b:O},h=s.map((b,_)=>Tt(b,w=>{a[_]=w,p&=~(1<<_),c&&m()},()=>{p|=1<<_}));return c=!0,m(),function(){se(h),g(),c=!1}})}function Zt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,l,s,r,i=[],o="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(i.push("wild"),o+="/(.*)"):n===":"?(l=s.indexOf("?",1),r=s.indexOf(".",1),i.push(s.substring(1,~l?l:~r?r:s.length)),o+=~l&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~l?"?":"")+"\\"+s.substring(r))):o+="/"+s;return{keys:i,pattern:new RegExp("^"+o+"/?$","i")}}function Jt(t){let e,n,l;const s=[t[2]];var r=t[0];function i(o,c){let a={};for(let p=0;p<s.length;p+=1)a=Re(a,s[p]);return c!==void 0&&c&4&&(a=Re(a,qe(s,[Ie(o[2])]))),{props:a}}return r&&(e=He(r,i(t)),e.$on("routeEvent",t[7])),{c(){e&&oe(e.$$.fragment),n=$e()},m(o,c){e&&ne(e,o,c),A(o,n,c),l=!0},p(o,c){if(c&1&&r!==(r=o[0])){if(e){Ke();const a=e;te(a.$$.fragment,1,0,()=>{le(a,1)}),Qe()}r?(e=He(r,i(o,c)),e.$on("routeEvent",o[7]),oe(e.$$.fragment),Z(e.$$.fragment,1),ne(e,n.parentNode,n)):e=null}else if(r){const a=c&4?qe(s,[Ie(o[2])]):{};e.$set(a)}},i(o){l||(e&&Z(e.$$.fragment,o),l=!0)},o(o){e&&te(e.$$.fragment,o),l=!1},d(o){o&&S(n),e&&le(e,o)}}}function en(t){let e,n,l;const s=[{params:t[1]},t[2]];var r=t[0];function i(o,c){let a={};for(let p=0;p<s.length;p+=1)a=Re(a,s[p]);return c!==void 0&&c&6&&(a=Re(a,qe(s,[c&2&&{params:o[1]},c&4&&Ie(o[2])]))),{props:a}}return r&&(e=He(r,i(t)),e.$on("routeEvent",t[6])),{c(){e&&oe(e.$$.fragment),n=$e()},m(o,c){e&&ne(e,o,c),A(o,n,c),l=!0},p(o,c){if(c&1&&r!==(r=o[0])){if(e){Ke();const a=e;te(a.$$.fragment,1,0,()=>{le(a,1)}),Qe()}r?(e=He(r,i(o,c)),e.$on("routeEvent",o[6]),oe(e.$$.fragment),Z(e.$$.fragment,1),ne(e,n.parentNode,n)):e=null}else if(r){const a=c&6?qe(s,[c&2&&{params:o[1]},c&4&&Ie(o[2])]):{};e.$set(a)}},i(o){l||(e&&Z(e.$$.fragment,o),l=!0)},o(o){e&&te(e.$$.fragment,o),l=!1},d(o){o&&S(n),e&&le(e,o)}}}function tn(t){let e,n,l,s;const r=[en,Jt],i=[];function o(c,a){return c[1]?0:1}return e=o(t),n=i[e]=r[e](t),{c(){n.c(),l=$e()},m(c,a){i[e].m(c,a),A(c,l,a),s=!0},p(c,[a]){let p=e;e=o(c),e===p?i[e].p(c,a):(Ke(),te(i[p],1,1,()=>{i[p]=null}),Qe(),n=i[e],n?n.p(c,a):(n=i[e]=r[e](c),n.c()),Z(n,1),n.m(l.parentNode,l))},i(c){s||(Z(n),s=!0)},o(c){te(n),s=!1},d(c){c&&S(l),i[e].d(c)}}}function rt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let l="";return n>-1&&(l=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:l}}const Ze=Ht(null,function(e){e(rt());const n=()=>{e(rt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Fe(Ze,t=>t.location);Fe(Ze,t=>t.querystring);const ot=_e(void 0);async function nn(t){if(t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Dt(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function ln(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function sn(t,e,n){let{routes:l={}}=e,{prefix:s=""}=e,{restoreScrollState:r=!1}=e;class i{constructor(y,k){if(!k||typeof k!="function"&&(typeof k!="object"||k._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:P,keys:C}=Zt(y);this.path=y,typeof k=="object"&&k._sveltesparouter===!0?(this.component=k.component,this.conditions=k.conditions||[],this.userData=k.userData,this.props=k.props||{}):(this.component=()=>Promise.resolve(k),this.conditions=[],this.props={}),this._pattern=P,this._keys=C}match(y){if(s){if(typeof s=="string")if(y.startsWith(s))y=y.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const N=y.match(s);if(N&&N[0])y=y.substr(N[0].length)||"/";else return null}}const k=this._pattern.exec(y);if(k===null)return null;if(this._keys===!1)return k;const P={};let C=0;for(;C<this._keys.length;){try{P[this._keys[C]]=decodeURIComponent(k[C+1]||"")||null}catch{P[this._keys[C]]=null}C++}return P}async checkConditions(y){for(let k=0;k<this.conditions.length;k++)if(!await this.conditions[k](y))return!1;return!0}}const o=[];l instanceof Map?l.forEach((x,y)=>{o.push(new i(y,x))}):Object.keys(l).forEach(x=>{o.push(new i(x,l[x]))});let c=null,a=null,p={};const g=Wt();async function m(x,y){await Dt(),g(x,y)}let h=null,b=null;r&&(b=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?h=x.state:h=null},window.addEventListener("popstate",b),Ut(()=>{ln(h)}));let _=null,w=null;const $=Ze.subscribe(async x=>{_=x;let y=0;for(;y<o.length;){const k=o[y].match(x.location);if(!k){y++;continue}const P={route:o[y].path,location:x.location,querystring:x.querystring,userData:o[y].userData,params:k&&typeof k=="object"&&Object.keys(k).length?k:null};if(!await o[y].checkConditions(P)){n(0,c=null),w=null,m("conditionsFailed",P);return}m("routeLoading",Object.assign({},P));const C=o[y].component;if(w!=C){C.loading?(n(0,c=C.loading),w=C,n(1,a=C.loadingParams),n(2,p={}),m("routeLoaded",Object.assign({},P,{component:c,name:c.name,params:a}))):(n(0,c=null),w=null);const N=await C();if(x!=_)return;n(0,c=N&&N.default||N),w=C}k&&typeof k=="object"&&Object.keys(k).length?n(1,a=k):n(1,a=null),n(2,p=o[y].props),m("routeLoaded",Object.assign({},P,{component:c,name:c.name,params:a})).then(()=>{ot.set(a)});return}n(0,c=null),w=null,ot.set(void 0)});Gt(()=>{$(),b&&window.removeEventListener("popstate",b)});function L(x){st.call(this,t,x)}function E(x){st.call(this,t,x)}return t.$$set=x=>{"routes"in x&&n(3,l=x.routes),"prefix"in x&&n(4,s=x.prefix),"restoreScrollState"in x&&n(5,r=x.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=r?"manual":"auto")},[c,a,p,l,s,r,L,E]}class rn extends be{constructor(e){super(),ge(this,e,sn,tn,ae,{routes:3,prefix:4,restoreScrollState:5})}}const Oe=_e({rawContent:"",parsedFlows:[],stateNodes:[],messageFlows:[],validationStatus:"parsing",parseErrors:[]}),qt=_e([]),Pe=_e({currentNode:null,pathHistory:[],availableTransitions:[],autoRunActive:!1,autoRunSpeed:1}),at=_e({totalPathsTested:0,successfulPaths:0,failedPaths:0,issues:[],unreachableStates:[],metrics:{}}),Xe=_e([]);Fe(Oe,t=>t.validationStatus==="valid");Fe(Pe,t=>t.currentNode!==null);const on={parseAPML:t=>{try{const e=an(t),n=cn(t),l=un(t),s=dn(e),r=fn(l),i=pn(s,r);return Oe.update(o=>({...o,rawContent:t,parsedFlows:l,stateNodes:s,messageFlows:r,validationStatus:"valid",parseErrors:[]})),qt.set(i),!0}catch(e){return Oe.update(n=>({...n,validationStatus:"invalid",parseErrors:[e.message]})),!1}},addChangeRequest:(t,e,n="ui_change",l="medium")=>{const s={id:crypto.randomUUID(),screenState:t,userNote:e,crType:n,priority:l,timestamp:new Date().toISOString()};return Xe.update(r=>[...r,s]),s},exportAPMLWithCRs:()=>{}};function an(t){const e=[],n=/interface\s+(\w+):(.*?)(?=interface\s+\w+:|logic\s+\w+:|data\s+\w+:|$)/gs;let l;for(;(l=n.exec(t))!==null;)e.push({name:l[1],definition:l[2].trim()});return e}function cn(t){const e=[],n=/data\s+(\w+):(.*?)(?=data\s+\w+:|interface\s+\w+:|logic\s+\w+:|$)/gs;let l;for(;(l=n.exec(t))!==null;)e.push({name:l[1],definition:l[2].trim()});return e}function un(t){const e=[],n=/logic\s+(\w+):(.*?)(?=logic\s+\w+:|interface\s+\w+:|data\s+\w+:|$)/gs;let l;for(;(l=n.exec(t))!==null;)e.push({name:l[1],definition:l[2].trim()});return e}function dn(t){return t.map((e,n)=>({id:crypto.randomUUID(),interfaceName:e.name,displayContent:`${e.name} Interface`,availableActions:mn(e.definition),nodeType:"app_to_user",sceneGroup:e.name,positionX:n%3*200,positionY:Math.floor(n/3)*150}))}function fn(t){return t.map(e=>({id:crypto.randomUUID(),fromNode:null,toNode:null,triggerMessage:e.name,flowType:"process",colorCode:"#2563eb",isActive:!1}))}function pn(t,e){const n={};return t.forEach(l=>{n[l.sceneGroup]||(n[l.sceneGroup]={id:crypto.randomUUID(),sceneName:l.sceneGroup,description:`${l.sceneGroup} flow scene`,stateNodes:[],primaryFlowPath:[],sceneOrder:Object.keys(n).length+1}),n[l.sceneGroup].stateNodes.push(l)}),Object.values(n)}function mn(t){const e=[],n=/(\w+)_button/g;let l;for(;(l=n.exec(t))!==null;)e.push(l[1]);return e.length>0?e:["click","navigate"]}function hn(t){let e,n,l;return{c(){e=Ne("svg"),n=Ne("path"),l=T(`
                Parse & Visualize`),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"stroke-width","2"),d(n,"d","M13 10V3L4 14h7v7l9-11h-7z"),d(e,"class","w-5 h-5 mr-2"),d(e,"fill","none"),d(e,"stroke","currentColor"),d(e,"viewBox","0 0 24 24")},m(s,r){A(s,e,r),u(e,n),A(s,l,r)},d(s){s&&(S(e),S(l))}}}function gn(t){let e,n,l,s;return{c(){e=Ne("svg"),n=Ne("circle"),l=Ne("path"),s=T(`
                Processing APML...`),d(n,"class","opacity-25"),d(n,"cx","12"),d(n,"cy","12"),d(n,"r","10"),d(n,"stroke","currentColor"),d(n,"stroke-width","4"),d(l,"class","opacity-75"),d(l,"fill","currentColor"),d(l,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),d(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"fill","none"),d(e,"viewBox","0 0 24 24")},m(r,i){A(r,e,i),u(e,n),u(e,l),A(r,s,i)},d(r){r&&(S(e),S(s))}}}function bn(t){let e,n,l,s,r,i,o,c,a,p,g,m,h,b,_,w,$=t[0].length+"",L,E,x,y,k,P,C,N,M,j,D,R;function H(z,U){return z[1]?gn:hn}let B=H(t),I=B(t);return{c(){e=f("div"),n=f("div"),n.innerHTML=`<div class="inline-flex items-center px-4 py-2 bg-blue-50 rounded-full text-blue-700 text-sm font-medium mb-4"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
      Real-time APML Visualization</div> <h2 class="text-4xl font-bold text-gray-900 mb-4">Transform APML into Interactive Mockups</h2> <p class="text-xl text-gray-600 max-w-3xl mx-auto">Paste your APML specification below and watch it come to life with interactive mobile mockups, 
      beautiful flow diagrams, and automated validation testing.</p>`,l=v(),s=f("div"),r=f("div"),i=f("div"),i.innerHTML='<h3 class="text-2xl font-bold text-white mb-2">APML Specification Input</h3> <p class="text-blue-100">Paste your complete APML specification to generate interactive visualizations</p>',o=v(),c=f("div"),a=f("div"),p=f("div"),g=f("label"),g.innerHTML=`APML Specification
              <span class="text-gray-400 font-normal ml-2">Supports APML v0.9.0</span>`,m=v(),h=f("div"),b=f("textarea"),_=v(),w=f("div"),L=T($),E=T(" characters"),x=v(),y=f("div"),k=f("button"),k.innerHTML=`<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
              Load Example To-Do App`,P=v(),C=f("button"),I.c(),M=v(),j=f("div"),j.innerHTML='<div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Interactive Mobile Mockup</h3> <p class="text-gray-600 text-sm">Real-time mobile mockups that update as you interact with them. See your APML come to life instantly.</p></div> <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4"><svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3v10"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Beautiful Flow Diagrams</h3> <p class="text-gray-600 text-sm">Automatic Mermaid flow diagrams with dark themes, colored nodes, and animated transitions.</p></div> <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-4"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Automated Validation</h3> <p class="text-gray-600 text-sm">Test all possible user paths automatically. Mathematical validation of your APML specifications.</p></div>',d(n,"class","text-center mb-12"),d(i,"class","bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6"),d(g,"for","apml-input"),d(g,"class","block text-sm font-semibold text-gray-700 mb-3"),d(b,"id","apml-input"),d(b,"class","textarea-field font-mono text-sm min-h-[400px] bg-gray-50 focus:bg-white"),d(b,"placeholder",`Paste your complete APML specification here...

Example:
app MyApp:
  title: 'My Application'
  version: '1.0.0'
  apml_specification_version: '0.9.0'

data User:
  id: unique_id
  name: text required

interface welcome:
  show welcome_panel:
    title: 'Welcome!'
    continue_button:
      text: 'Get Started'

logic navigation:
  process start_app:
    when user clicks continue_button:
      redirect to dashboard`),d(w,"class","absolute bottom-3 right-3 text-xs text-gray-400 bg-white px-2 py-1 rounded"),d(h,"class","relative"),d(p,"class","relative"),d(k,"class","btn-secondary flex items-center justify-center"),C.disabled=N=!t[0].trim()||t[1],d(C,"class","btn-primary flex-1 flex items-center justify-center"),d(y,"class","flex flex-col sm:flex-row gap-4"),d(a,"class","space-y-6"),d(c,"class","p-8"),d(r,"class","bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden"),d(j,"class","grid md:grid-cols-3 gap-6 mt-12"),d(s,"class","max-w-6xl mx-auto"),d(e,"class","py-8")},m(z,U){A(z,e,U),u(e,n),u(e,l),u(e,s),u(s,r),u(r,i),u(r,o),u(r,c),u(c,a),u(a,p),u(p,g),u(p,m),u(p,h),u(h,b),Q(b,t[0]),u(h,_),u(h,w),u(w,L),u(w,E),u(a,x),u(a,y),u(y,k),u(y,P),u(y,C),I.m(C,null),u(s,M),u(s,j),D||(R=[G(b,"input",t[4]),G(k,"click",t[3]),G(C,"click",t[2])],D=!0)},p(z,[U]){U&1&&Q(b,z[0]),U&1&&$!==($=z[0].length+"")&&q(L,$),B!==(B=H(z))&&(I.d(1),I=B(z),I&&(I.c(),I.m(C,null))),U&3&&N!==(N=!z[0].trim()||z[1])&&(C.disabled=N)},i:O,o:O,d(z){z&&S(e),I.d(),D=!1,se(R)}}}function _n(t,e,n){let l="",s=!1;const r=`app SimpleToDoApp:
  title: "Simple To-Do Application"
  description: "A basic task management app"
  version: "1.0.0"
  apml_specification_version: "0.9.0"

data Task:
  id: unique_id
  title: text required
  completed: boolean default false
  created_at: timestamp auto

data User:
  id: unique_id
  name: text required
  email: email required

interface welcome_screen:
  show welcome_panel:
    title: "Welcome to Simple To-Do"
    subtitle: "Manage your tasks efficiently"
    get_started_button:
      text: "Get Started"
    login_button:
      text: "Login"

interface task_list:
  show main_panel:
    title: "My Tasks"
    add_task_button:
      text: "Add New Task"
    task_items:
      for each task in Task:
        task_card:
          title: task.title
          complete_button:
            text: "Complete"
          delete_button:
            text: "Delete"

interface add_task:
  show task_form:
    title: "Add New Task"
    task_input:
      placeholder: "Enter task title..."
      required: true
    save_button:
      text: "Save Task"
    cancel_button:
      text: "Cancel"

logic task_management:
  process create_task:
    when user clicks add_task_button:
      redirect to add_task
      
  process save_new_task:
    when user submits task_form:
      validate task_input
      if input_valid:
        create Task with title: task_input
        redirect to task_list
      else:
        show error_message: "Please enter a task title"
        
  process complete_task:
    when user clicks complete_button:
      update task.completed to true
      refresh task_list
      
  process delete_task:
    when user clicks delete_button:
      delete task
      refresh task_list

logic navigation:
  process start_app:
    when user clicks get_started_button:
      redirect to task_list
      
  process cancel_add_task:
    when user clicks cancel_button:
      redirect to task_list`;async function i(){if(l.trim()){n(1,s=!0);try{on.parseAPML(l)?nn("/dashboard"):alert("APML parsing failed. Please check your specification.")}catch(a){alert("Error processing APML: "+a.message)}finally{n(1,s=!1)}}}function o(){n(0,l=r)}function c(){l=this.value,n(0,l)}return[l,s,i,o,c]}class vn extends be{constructor(e){super(),ge(this,e,_n,bn,ae,{})}}function ct(t,e,n){const l=t.slice();return l[6]=e[n],l}function ut(t,e,n){const l=t.slice();return l[9]=e[n],l}function wn(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="text-center"><div class="text-4xl mb-4">📱</div> <p class="text-gray-600">No APML specification loaded</p> <p class="text-sm text-gray-500 mt-2">Parse an APML spec to see the mobile mockup</p></div>',d(e,"class","h-full flex items-center justify-center p-4")},m(n,l){A(n,e,l)},p:O,d(n){n&&S(e)}}}function xn(t){let e,n,l,s=t[0].sceneName+"",r,i,o,c=t[0].description+"",a,p,g,m,h,b=X(t[0].stateNodes),_=[];for(let w=0;w<b.length;w+=1)_[w]=pt(ct(t,b,w));return{c(){e=f("div"),n=f("div"),l=f("h2"),r=T(s),i=v(),o=f("p"),a=T(c),p=v(),g=f("div");for(let w=0;w<_.length;w+=1)_[w].c();m=v(),h=f("div"),h.innerHTML='<p class="text-xs text-gray-500">Tap elements to simulate user interactions</p>',d(l,"class","text-xl font-bold text-gray-900"),d(o,"class","text-sm text-gray-600"),d(n,"class","text-center mb-6"),d(g,"class","flex-1 space-y-4"),d(h,"class","mt-4 text-center"),d(e,"class","p-4 h-full flex flex-col")},m(w,$){A(w,e,$),u(e,n),u(n,l),u(l,r),u(n,i),u(n,o),u(o,a),u(e,p),u(e,g);for(let L=0;L<_.length;L+=1)_[L]&&_[L].m(g,null);u(e,m),u(e,h)},p(w,$){if($&1&&s!==(s=w[0].sceneName+"")&&q(r,s),$&1&&c!==(c=w[0].description+"")&&q(a,c),$&7){b=X(w[0].stateNodes);let L;for(L=0;L<b.length;L+=1){const E=ct(w,b,L);_[L]?_[L].p(E,$):(_[L]=pt(E),_[L].c(),_[L].m(g,null))}for(;L<_.length;L+=1)_[L].d(1);_.length=b.length}},d(w){w&&S(e),he(_,w)}}}function dt(t){let e,n=X(t[6].availableActions),l=[];for(let s=0;s<n.length;s+=1)l[s]=ft(ut(t,n,s));return{c(){e=f("div");for(let s=0;s<l.length;s+=1)l[s].c();d(e,"class","space-y-2")},m(s,r){A(s,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,r){if(r&5){n=X(s[6].availableActions);let i;for(i=0;i<n.length;i+=1){const o=ut(s,n,i);l[i]?l[i].p(o,r):(l[i]=ft(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){s&&S(e),he(l,s)}}}function ft(t){let e,n=t[9]+"",l,s,r,i;function o(){return t[4](t[9])}return{c(){e=f("button"),l=T(n),s=v(),d(e,"class","w-full text-left px-3 py-2 bg-white border border-gray-300 rounded text-sm hover:bg-gray-50 transition-colors")},m(c,a){A(c,e,a),u(e,l),u(e,s),r||(i=G(e,"click",o),r=!0)},p(c,a){t=c,a&1&&n!==(n=t[9]+"")&&q(l,n)},d(c){c&&S(e),r=!1,i()}}}function pt(t){let e,n,l=t[6].interfaceName+"",s,r,i,o=t[6].displayContent+"",c,a,p,g,m=t[6].availableActions&&t[6].availableActions.length>0&&dt(t);return{c(){var h;e=f("div"),n=f("h3"),s=T(l),r=v(),i=f("p"),c=T(o),a=v(),m&&m.c(),p=v(),d(n,"class","font-medium text-gray-900 mb-2"),d(i,"class","text-sm text-gray-600 mb-3"),d(e,"class",g="bg-gray-50 rounded-lg p-4 border-2 "+(((h=t[1])==null?void 0:h.id)===t[6].id?"border-blue-500 bg-blue-50":"border-gray-200"))},m(h,b){A(h,e,b),u(e,n),u(n,s),u(e,r),u(e,i),u(i,c),u(e,a),m&&m.m(e,null),u(e,p)},p(h,b){var _;b&1&&l!==(l=h[6].interfaceName+"")&&q(s,l),b&1&&o!==(o=h[6].displayContent+"")&&q(c,o),h[6].availableActions&&h[6].availableActions.length>0?m?m.p(h,b):(m=dt(h),m.c(),m.m(e,p)):m&&(m.d(1),m=null),b&3&&g!==(g="bg-gray-50 rounded-lg p-4 border-2 "+(((_=h[1])==null?void 0:_.id)===h[6].id?"border-blue-500 bg-blue-50":"border-gray-200"))&&d(e,"class",g)},d(h){h&&S(e),m&&m.d()}}}function yn(t){let e,n;function l(i,o){return i[0]?xn:wn}let s=l(t),r=s(t);return{c(){e=f("div"),n=f("div"),r.c(),d(n,"class","phone-screen svelte-1c8w4kf"),d(e,"class","phone-frame svelte-1c8w4kf")},m(i,o){A(i,e,o),u(e,n),r.m(n,null)},p(i,[o]){s===(s=l(i))&&r?r.p(i,o):(r.d(1),r=s(i),r&&(r.c(),r.m(n,null)))},i:O,o:O,d(i){i&&S(e),r.d()}}}function kn(t,e,n){let l,s;ke(t,Pe,c=>n(3,s=c));let{currentSceneData:r=null}=e;function i(c){console.log("Mockup interaction:",c),Pe.update(a=>({...a,pathHistory:[...a.pathHistory,l]}))}const o=c=>i(c);return t.$$set=c=>{"currentSceneData"in c&&n(0,r=c.currentSceneData)},t.$$.update=()=>{t.$$.dirty&8&&n(1,l=s.currentNode),t.$$.dirty&8&&s.availableTransitions},[r,l,i,s,o]}class Cn extends be{constructor(e){super(),ge(this,e,kn,yn,ae,{currentSceneData:0})}}function Mn(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="text-center text-slate-400"><svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3v10"></path></svg> <h3 class="text-lg font-medium mb-2">No Flow Diagram Available</h3> <p class="text-sm text-slate-500">Parse an APML specification to see the interactive flow visualization</p></div>',d(e,"class","h-full flex items-center justify-center")},m(n,l){A(n,e,l)},p:O,d(n){n&&S(e)}}}function Nn(t){let e,n,l,s,r,i,o,c,a=t[0].stateNodes.length+"",p,g,m=t[0].sceneName+"",h,b=!t[1]&&mt();return{c(){e=f("div"),b&&b.c(),n=v(),l=f("div"),s=f("div"),r=f("div"),i=f("div"),i.innerHTML='<div class="flex items-center space-x-2"><div class="w-3 h-3 bg-purple-500 rounded-full animate-pulse"></div> <span class="text-slate-300">Current State</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-blue-500 rounded-full"></div> <span class="text-slate-300">Available States</span></div> <div class="flex items-center space-x-2"><div class="w-8 h-0.5 bg-flow-accent rounded-full"></div> <span class="text-slate-300">Flow Path</span></div>',o=v(),c=f("div"),p=T(a),g=T(" states in "),h=T(m),d(e,"class","w-full h-full flex items-center justify-center p-4"),d(i,"class","flex items-center space-x-4"),d(c,"class","text-slate-400"),d(r,"class","flex items-center justify-between text-sm"),d(s,"class","bg-slate-800/90 backdrop-blur-sm rounded-xl p-4 border border-slate-700"),d(l,"class","absolute bottom-4 left-4 right-4")},m(_,w){A(_,e,w),b&&b.m(e,null),t[3](e),A(_,n,w),A(_,l,w),u(l,s),u(s,r),u(r,i),u(r,o),u(r,c),u(c,p),u(c,g),u(c,h)},p(_,w){_[1]?b&&(b.d(1),b=null):b||(b=mt(),b.c(),b.m(e,null)),w&1&&a!==(a=_[0].stateNodes.length+"")&&q(p,a),w&1&&m!==(m=_[0].sceneName+"")&&q(h,m)},d(_){_&&(S(e),S(n),S(l)),b&&b.d(),t[3](null)}}}function mt(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="text-center text-slate-400"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-flow-accent mx-auto mb-4"></div> <p class="text-sm">Loading interactive diagram...</p></div>',d(e,"class","flex items-center justify-center h-full")},m(n,l){A(n,e,l)},d(n){n&&S(e)}}}function Sn(t){let e;function n(r,i){return r[0]?Nn:Mn}let l=n(t),s=l(t);return{c(){e=f("div"),s.c(),d(e,"class","mermaid-container h-full relative")},m(r,i){A(r,e,i),s.m(e,null)},p(r,[i]){l===(l=n(r))&&s?s.p(r,i):(s.d(1),s=l(r),s&&(s.c(),s.m(e,null)))},i:O,o:O,d(r){r&&S(e),s.d()}}}let Ue=null;function Ln(t){if(!t.stateNodes||t.stateNodes.length===0)return`graph TD
        A["⚠️ No states found"]
        style A fill:#fee2e2,stroke:#dc2626,color:#dc2626`;let e=`graph TD
`;const n={welcome_screen:"#10b981",task_list:"#3b82f6",add_task:"#f59e0b",default:"#64748b"};return t.stateNodes.forEach((s,r)=>{const i=`node${r}`,o=s.interfaceName||`State ${r}`,c=n[s.interfaceName]||n.default,a=An(s.interfaceName);e+=`    ${i}["${a} ${o}"]
`,(Ue==null?void 0:Ue.id)===s.id?(e+=`    style ${i} fill:#8b5cf6,stroke:#a855f7,stroke-width:3px,color:#ffffff,stroke-dasharray: 5 5
`,e+=`    class ${i} activeNode
`):e+=`    style ${i} fill:${c},stroke:${c},color:#ffffff,stroke-width:2px
`}),Pn(t.stateNodes).forEach(s=>{e+=`    ${s.from} ${s.style} ${s.to}
`}),t.stateNodes.forEach((s,r)=>{e+=`    click node${r} handleNodeClick
`}),e+=`
    classDef activeNode fill:#8b5cf6,stroke:#a855f7,stroke-width:3px,color:#ffffff
    classDef hoverNode fill:#6366f1,stroke:#818cf8,stroke-width:2px,color:#ffffff
    `,e}function An(t){return{welcome_screen:"🏠",task_list:"📋",add_task:"➕",user_profile:"👤",settings:"⚙️",dashboard:"📊"}[t]||"🔵"}function Pn(t){const e=[];for(let n=0;n<t.length-1;n++){const l=`node${n}`,s=`node${n+1}`,r=["-->","-.->","==>","-->"],i=r[n%r.length];e.push({from:l,to:s,style:i})}return t.length>2&&e.push({from:`node${t.length-1}`,to:"node0",style:"-.->",label:"restart"}),e}function $n(t,e,n){let{currentSceneData:l=null}=e,s,r=!1;Bt(async()=>{try{const p=document.createElement("script");p.src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js",p.onload=()=>{window.mermaid.initialize({startOnLoad:!1,theme:"dark",themeVariables:{darkMode:!0,background:"#1e293b",primaryColor:"#3b82f6",primaryTextColor:"#ffffff",primaryBorderColor:"#1e40af",lineColor:"#64748b",secondaryColor:"#10b981",tertiaryColor:"#f59e0b",quaternaryColor:"#ef4444",fontFamily:"ui-sans-serif, system-ui, sans-serif",fontSize:"14px"},securityLevel:"loose",flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"}}),n(1,r=!0)},document.head.appendChild(p)}catch(p){console.error("Failed to load Mermaid:",p)}});function i(){if(!s||!l||!window.mermaid)return;const p=Ln(l),g=`mermaid-${Date.now()}`;n(2,s.innerHTML=`<div id="${g}">${p}</div>`,s),window.mermaid.render(`rendered-${g}`,p).then(({svg:m})=>{n(2,s.innerHTML=m,s),o()}).catch(m=>{console.error("Mermaid render error:",m),n(2,s.innerHTML=`
          <div class="flex items-center justify-center h-full text-slate-400">
            <div class="text-center">
              <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>
              </svg>
              <p class="text-sm">Diagram render error</p>
            </div>
          </div>`,s)})}function o(){s.querySelectorAll(".node").forEach(m=>{m.style.cursor="pointer",m.addEventListener("mouseenter",()=>{m.style.filter="brightness(1.2) drop-shadow(0 0 10px rgba(139, 92, 246, 0.5))",m.style.transform="scale(1.05)",m.style.transition="all 0.2s ease"}),m.addEventListener("mouseleave",()=>{m.style.filter="none",m.style.transform="scale(1)"})}),s.querySelectorAll(".path").forEach((m,h)=>{setTimeout(()=>{m.style.strokeDasharray="5,5",m.style.animation="dash 2s linear infinite"},h*200)})}function c(p){console.log("Mermaid node clicked:",p),Pe.update(g=>({...g,currentNode:{id:p,interfaceName:`Node ${p}`}}))}typeof window<"u"&&(window.handleNodeClick=c);function a(p){Ge[p?"unshift":"push"](()=>{s=p,n(2,s)})}return t.$$set=p=>{"currentSceneData"in p&&n(0,l=p.currentSceneData)},t.$$.update=()=>{t.$$.dirty&3&&r&&l&&i()},[l,r,s,a]}class Tn extends be{constructor(e){super(),ge(this,e,$n,Sn,ae,{currentSceneData:0})}}function ht(t,e,n){const l=t.slice();return l[34]=e[n],l}function gt(t,e,n){const l=t.slice();return l[31]=e[n],l}function bt(t,e,n){const l=t.slice();return l[25]=e[n],l}function _t(t,e,n){const l=t.slice();return l[28]=e[n],l[30]=n,l}function jn(t){let e,n,l,s,r;function i(a,p){return a[8].length>0?Hn:Rn}let o=i(t),c=o(t);return{c(){e=f("div"),n=f("button"),n.textContent="Add Change Request for Current Screen",l=v(),c.c(),d(n,"class","w-full btn"),d(e,"class","space-y-4")},m(a,p){A(a,e,p),u(e,n),u(e,l),c.m(e,null),s||(r=G(n,"click",t[19]),s=!0)},p(a,p){o===(o=i(a))&&c?c.p(a,p):(c.d(1),c=o(a),c&&(c.c(),c.m(e,null)))},d(a){a&&S(e),c.d(),s=!1,r()}}}function En(t){let e,n,l,s,r,i=t[9].totalPathsTested>0&&wt(t);return{c(){e=f("div"),n=f("button"),n.textContent="Test All Possible Paths",l=v(),i&&i.c(),d(n,"class","w-full btn"),d(e,"class","space-y-4")},m(o,c){A(o,e,c),u(e,n),u(e,l),i&&i.m(e,null),s||(r=G(n,"click",t[10]),s=!0)},p(o,c){o[9].totalPathsTested>0?i?i.p(o,c):(i=wt(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&S(e),i&&i.d(),s=!1,r()}}}function Dn(t){let e,n,l,s,r,i=t[6].length>0&&kt(t);function o(p,g){return p[7].length>0?In:qn}let c=o(t),a=c(t);return{c(){e=f("div"),i&&i.c(),n=v(),l=f("div"),s=f("h4"),s.textContent="Available Actions",r=v(),a.c(),d(s,"class","text-sm font-medium text-gray-700 mb-2"),d(e,"class","space-y-4")},m(p,g){A(p,e,g),i&&i.m(e,null),u(e,n),u(e,l),u(l,s),u(l,r),a.m(l,null)},p(p,g){p[6].length>0?i?i.p(p,g):(i=kt(p),i.c(),i.m(e,n)):i&&(i.d(1),i=null),c===(c=o(p))&&a?a.p(p,g):(a.d(1),a=c(p),a&&(a.c(),a.m(l,null)))},d(p){p&&S(e),i&&i.d(),a.d()}}}function Rn(t){let e;return{c(){e=f("p"),e.textContent="No change requests yet",d(e,"class","text-sm text-gray-500 text-center py-8")},m(n,l){A(n,e,l)},p:O,d(n){n&&S(e)}}}function Hn(t){let e,n,l,s,r,i=X(t[8]),o=[];for(let c=0;c<i.length;c+=1)o[c]=vt(ht(t,i,c));return{c(){e=f("div");for(let c=0;c<o.length;c+=1)o[c].c();n=v(),l=f("button"),l.textContent="Export APML with CRs",d(e,"class","space-y-3"),d(l,"class","w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors")},m(c,a){A(c,e,a);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);A(c,n,a),A(c,l,a),s||(r=G(l,"click",t[12]),s=!0)},p(c,a){if(a[0]&256){i=X(c[8]);let p;for(p=0;p<i.length;p+=1){const g=ht(c,i,p);o[p]?o[p].p(g,a):(o[p]=vt(g),o[p].c(),o[p].m(e,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=i.length}},d(c){c&&(S(e),S(n),S(l)),he(o,c),s=!1,r()}}}function vt(t){let e,n,l,s=t[34].screenState.interfaceName+"",r,i,o,c=t[34].priority+"",a,p,g,m,h=t[34].userNote+"",b,_,w,$,L=t[34].crType+"",E,x,y,k=new Date(t[34].timestamp).toLocaleDateString()+"",P,C;return{c(){e=f("div"),n=f("div"),l=f("span"),r=T(s),i=v(),o=f("span"),a=T(c),g=v(),m=f("p"),b=T(h),_=v(),w=f("div"),$=f("span"),E=T(L),x=v(),y=f("span"),P=T(k),C=v(),d(l,"class","text-sm font-medium"),d(o,"class",p="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded "+(t[34].priority==="high"?"bg-red-100 text-red-800":t[34].priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800")),d(n,"class","flex items-start justify-between mb-2"),d(m,"class","text-sm text-gray-600 mb-2"),d(w,"class","flex items-center justify-between text-xs text-gray-500"),d(e,"class","bg-gray-50 rounded-lg p-3")},m(N,M){A(N,e,M),u(e,n),u(n,l),u(l,r),u(n,i),u(n,o),u(o,a),u(e,g),u(e,m),u(m,b),u(e,_),u(e,w),u(w,$),u($,E),u(w,x),u(w,y),u(y,P),u(e,C)},p(N,M){M[0]&256&&s!==(s=N[34].screenState.interfaceName+"")&&q(r,s),M[0]&256&&c!==(c=N[34].priority+"")&&q(a,c),M[0]&256&&p!==(p="text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded "+(N[34].priority==="high"?"bg-red-100 text-red-800":N[34].priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"))&&d(o,"class",p),M[0]&256&&h!==(h=N[34].userNote+"")&&q(b,h),M[0]&256&&L!==(L=N[34].crType+"")&&q(E,L),M[0]&256&&k!==(k=new Date(N[34].timestamp).toLocaleDateString()+"")&&q(P,k)},d(N){N&&S(e)}}}function wt(t){let e,n,l,s,r,i,o,c,a=t[9].totalPathsTested+"",p,g,m,h,b,_,w=t[9].successfulPaths+"",$,L,E,x,y,k,P=t[9].failedPaths+"",C,N,M=t[9].issues.length>0&&xt(t);return{c(){e=f("div"),n=f("h4"),n.textContent="Test Results",l=v(),s=f("div"),r=f("div"),i=f("span"),i.textContent="Total Paths:",o=v(),c=f("span"),p=T(a),g=v(),m=f("div"),h=f("span"),h.textContent="Successful:",b=v(),_=f("span"),$=T(w),L=v(),E=f("div"),x=f("span"),x.textContent="Failed:",y=v(),k=f("span"),C=T(P),N=v(),M&&M.c(),d(n,"class","text-sm font-medium text-gray-700 mb-3"),d(c,"class","font-medium"),d(r,"class","flex justify-between"),d(_,"class","font-medium text-green-600"),d(m,"class","flex justify-between"),d(k,"class","font-medium text-red-600"),d(E,"class","flex justify-between"),d(s,"class","space-y-2 text-sm"),d(e,"class","bg-gray-50 rounded-lg p-4")},m(j,D){A(j,e,D),u(e,n),u(e,l),u(e,s),u(s,r),u(r,i),u(r,o),u(r,c),u(c,p),u(s,g),u(s,m),u(m,h),u(m,b),u(m,_),u(_,$),u(s,L),u(s,E),u(E,x),u(E,y),u(E,k),u(k,C),u(e,N),M&&M.m(e,null)},p(j,D){D[0]&512&&a!==(a=j[9].totalPathsTested+"")&&q(p,a),D[0]&512&&w!==(w=j[9].successfulPaths+"")&&q($,w),D[0]&512&&P!==(P=j[9].failedPaths+"")&&q(C,P),j[9].issues.length>0?M?M.p(j,D):(M=xt(j),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},d(j){j&&S(e),M&&M.d()}}}function xt(t){let e,n,l,s,r=X(t[9].issues),i=[];for(let o=0;o<r.length;o+=1)i[o]=yt(gt(t,r,o));return{c(){e=f("div"),n=f("h5"),n.textContent="Issues Found",l=v(),s=f("ul");for(let o=0;o<i.length;o+=1)i[o].c();d(n,"class","text-sm font-medium text-gray-700 mb-2"),d(s,"class","space-y-1"),d(e,"class","mt-4")},m(o,c){A(o,e,c),u(e,n),u(e,l),u(e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,null)},p(o,c){if(c[0]&512){r=X(o[9].issues);let a;for(a=0;a<r.length;a+=1){const p=gt(o,r,a);i[a]?i[a].p(p,c):(i[a]=yt(p),i[a].c(),i[a].m(s,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(o){o&&S(e),he(i,o)}}}function yt(t){let e,n=t[31]+"",l,s;return{c(){e=f("li"),l=T(n),s=v(),d(e,"class","text-sm text-red-600 bg-red-50 px-2 py-1 rounded")},m(r,i){A(r,e,i),u(e,l),u(e,s)},p(r,i){i[0]&512&&n!==(n=r[31]+"")&&q(l,n)},d(r){r&&S(e)}}}function kt(t){let e,n,l,s,r=X(t[6]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Mt(_t(t,r,o));return{c(){e=f("div"),n=f("h4"),n.textContent="Path History",l=v(),s=f("div");for(let o=0;o<i.length;o+=1)i[o].c();d(n,"class","text-sm font-medium text-gray-700 mb-2"),d(s,"class","flex flex-wrap gap-1")},m(o,c){A(o,e,c),u(e,n),u(e,l),u(e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,null)},p(o,c){if(c[0]&64){r=X(o[6]);let a;for(a=0;a<r.length;a+=1){const p=_t(o,r,a);i[a]?i[a].p(p,c):(i[a]=Mt(p),i[a].c(),i[a].m(s,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(o){o&&S(e),he(i,o)}}}function Ct(t){let e;return{c(){e=f("span"),e.textContent="→",d(e,"class","text-xs text-gray-400")},m(n,l){A(n,e,l)},d(n){n&&S(e)}}}function Mt(t){var o;let e,n=(((o=t[28])==null?void 0:o.interfaceName)||`Step ${t[30]+1}`)+"",l,s,r,i=t[30]<t[6].length-1&&Ct();return{c(){e=f("span"),l=T(n),s=v(),i&&i.c(),r=$e(),d(e,"class","text-xs bg-gray-100 px-2 py-1 rounded")},m(c,a){A(c,e,a),u(e,l),A(c,s,a),i&&i.m(c,a),A(c,r,a)},p(c,a){var p;a[0]&64&&n!==(n=(((p=c[28])==null?void 0:p.interfaceName)||`Step ${c[30]+1}`)+"")&&q(l,n),c[30]<c[6].length-1?i||(i=Ct(),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(c){c&&(S(e),S(s),S(r)),i&&i.d(c)}}}function qn(t){let e;return{c(){e=f("p"),e.textContent="No actions available",d(e,"class","text-sm text-gray-500")},m(n,l){A(n,e,l)},p:O,d(n){n&&S(e)}}}function In(t){let e,n=X(t[7]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Nt(bt(t,n,s));return{c(){e=f("div");for(let s=0;s<l.length;s+=1)l[s].c();d(e,"class","space-y-2")},m(s,r){A(s,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,r){if(r[0]&128){n=X(s[7]);let i;for(i=0;i<n.length;i+=1){const o=bt(s,n,i);l[i]?l[i].p(o,r):(l[i]=Nt(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){s&&S(e),he(l,s)}}}function Nt(t){let e,n=t[25]+"",l,s;return{c(){e=f("button"),l=T(n),s=v(),d(e,"class","w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded text-sm transition-colors")},m(r,i){A(r,e,i),u(e,l),u(e,s)},p(r,i){i[0]&128&&n!==(n=r[25]+"")&&q(l,n)},d(r){r&&S(e)}}}function St(t){var de;let e,n,l,s,r,i,o,c,a=(((de=t[5])==null?void 0:de.interfaceName)||"No screen selected")+"",p,g,m,h,b,_,w,$,L,E,x,y,k,P,C,N,M,j,D,R,H,B,I,z,U,Y,J,ce,ue,K,ie,Me;return{c(){e=f("div"),n=f("div"),l=f("h3"),l.textContent="Add Change Request",s=v(),r=f("div"),i=f("div"),o=f("label"),c=T("Current Screen: "),p=T(a),g=v(),m=f("div"),h=f("label"),h.textContent="Change Description",b=v(),_=f("textarea"),w=v(),$=f("div"),L=f("label"),L.textContent="Type",E=v(),x=f("select"),y=f("option"),y.textContent="UI Change",k=f("option"),k.textContent="Flow Change",P=f("option"),P.textContent="Data Change",C=f("option"),C.textContent="New Feature",N=v(),M=f("div"),j=f("label"),j.textContent="Priority",D=v(),R=f("select"),H=f("option"),H.textContent="Low",B=f("option"),B.textContent="Medium",I=f("option"),I.textContent="High",z=v(),U=f("div"),Y=f("button"),J=T("Save Change Request"),ue=v(),K=f("button"),K.textContent="Cancel",d(l,"class","text-lg font-semibold mb-4"),d(o,"class","block text-sm font-medium text-gray-700 mb-2"),d(h,"class","block text-sm font-medium text-gray-700 mb-2"),d(_,"class","w-full p-3 border border-gray-300 rounded-lg"),d(_,"rows","3"),d(_,"placeholder","Describe what you'd like changed about this screen..."),d(L,"class","block text-sm font-medium text-gray-700 mb-2"),y.__value="ui_change",Q(y,y.__value),k.__value="flow_change",Q(k,k.__value),P.__value="data_change",Q(P,P.__value),C.__value="new_feature",Q(C,C.__value),d(x,"class","w-full p-2 border border-gray-300 rounded-lg"),t[3]===void 0&&Ae(()=>t[21].call(x)),d(j,"class","block text-sm font-medium text-gray-700 mb-2"),H.__value="low",Q(H,H.__value),B.__value="medium",Q(B,B.__value),I.__value="high",Q(I,I.__value),d(R,"class","w-full p-2 border border-gray-300 rounded-lg"),t[4]===void 0&&Ae(()=>t[22].call(R)),Y.disabled=ce=!t[2].trim(),d(Y,"class","flex-1 btn"),d(K,"class","px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"),d(U,"class","flex gap-3 pt-2"),d(r,"class","space-y-4"),d(n,"class","bg-white rounded-lg p-6 w-full max-w-md mx-4"),d(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(V,ee){A(V,e,ee),u(e,n),u(n,l),u(n,s),u(n,r),u(r,i),u(i,o),u(o,c),u(o,p),u(r,g),u(r,m),u(m,h),u(m,b),u(m,_),Q(_,t[2]),u(r,w),u(r,$),u($,L),u($,E),u($,x),u(x,y),u(x,k),u(x,P),u(x,C),Ee(x,t[3],!0),u(r,N),u(r,M),u(M,j),u(M,D),u(M,R),u(R,H),u(R,B),u(R,I),Ee(R,t[4],!0),u(r,z),u(r,U),u(U,Y),u(Y,J),u(U,ue),u(U,K),ie||(Me=[G(_,"input",t[20]),G(x,"change",t[21]),G(R,"change",t[22]),G(Y,"click",t[11]),G(K,"click",t[23])],ie=!0)},p(V,ee){var fe;ee[0]&32&&a!==(a=(((fe=V[5])==null?void 0:fe.interfaceName)||"No screen selected")+"")&&q(p,a),ee[0]&4&&Q(_,V[2]),ee[0]&8&&Ee(x,V[3]),ee[0]&16&&Ee(R,V[4]),ee[0]&4&&ce!==(ce=!V[2].trim())&&(Y.disabled=ce)},d(V){V&&S(e),ie=!1,se(Me)}}}function On(t){let e,n,l,s,r,i,o,c,a,p,g,m,h,b,_,w,$,L,E,x,y;function k(M,j){if(M[0]==="manual")return Dn;if(M[0]==="automated")return En;if(M[0]==="changes")return jn}let P=k(t),C=P&&P(t),N=t[1]&&St(t);return{c(){e=f("div"),n=f("h3"),n.textContent="Validation & Testing",l=v(),s=f("div"),r=f("button"),i=T("Manual Testing"),c=v(),a=f("button"),p=T("Automated"),m=v(),h=f("button"),b=T("Change Requests"),w=v(),$=f("div"),C&&C.c(),L=v(),N&&N.c(),E=$e(),d(n,"class","text-lg font-semibold mb-4"),d(r,"class",o="px-4 py-2 text-sm font-medium "+(t[0]==="manual"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700")),d(a,"class",g="px-4 py-2 text-sm font-medium "+(t[0]==="automated"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700")),d(h,"class",_="px-4 py-2 text-sm font-medium "+(t[0]==="changes"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700")),d(s,"class","flex border-b border-gray-200 mb-4"),d($,"class","flex-1 overflow-auto"),d(e,"class","panel h-full flex flex-col")},m(M,j){A(M,e,j),u(e,n),u(e,l),u(e,s),u(s,r),u(r,i),u(s,c),u(s,a),u(a,p),u(s,m),u(s,h),u(h,b),u(e,w),u(e,$),C&&C.m($,null),A(M,L,j),N&&N.m(M,j),A(M,E,j),x||(y=[G(r,"click",t[16]),G(a,"click",t[17]),G(h,"click",t[18])],x=!0)},p(M,j){j[0]&1&&o!==(o="px-4 py-2 text-sm font-medium "+(M[0]==="manual"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"))&&d(r,"class",o),j[0]&1&&g!==(g="px-4 py-2 text-sm font-medium "+(M[0]==="automated"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"))&&d(a,"class",g),j[0]&1&&_!==(_="px-4 py-2 text-sm font-medium "+(M[0]==="changes"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"))&&d(h,"class",_),P===(P=k(M))&&C?C.p(M,j):(C&&C.d(1),C=P&&P(M),C&&(C.c(),C.m($,null))),M[1]?N?N.p(M,j):(N=St(M),N.c(),N.m(E.parentNode,E)):N&&(N.d(1),N=null)},i:O,o:O,d(M){M&&(S(e),S(L),S(E)),C&&C.d(),N&&N.d(M),x=!1,se(y)}}}function zn(t,e){const n=new Blob([e],{type:"text/plain"}),l=URL.createObjectURL(n),s=document.createElement("a");s.href=l,s.download=t,s.click(),URL.revokeObjectURL(l)}function Fn(t,e,n){let l,s,r,i,o,c,a,p;ke(t,Xe,D=>n(13,c=D)),ke(t,Pe,D=>n(14,a=D)),ke(t,at,D=>n(15,p=D));let g="manual",m=!1,h="",b="ui_change",_="medium";function w(){at.update(D=>({...D,totalPathsTested:25,successfulPaths:22,failedPaths:3,issues:["Unreachable state: admin_settings","Infinite loop detected in user_profile flow","Missing validation for email_input"]}))}function $(){if(!h.trim())return;const D={id:crypto.randomUUID(),screenState:r||{interfaceName:"Current Screen"},userNote:h,crType:b,priority:_,timestamp:new Date().toISOString()};Xe.update(R=>[...R,D]),n(2,h=""),n(3,b="ui_change"),n(4,_="medium"),n(1,m=!1)}function L(){const D=E(c);zn("apml-with-change-requests.apml",D)}function E(D){let R=`# APML with Change Requests
# Generated: ${new Date().toISOString()}

`;return D.forEach(H=>{R+=`# CHANGE REQUEST ${H.id}
`,R+=`# Screen: ${H.screenState.interfaceName}
`,R+=`# Type: ${H.crType}
`,R+=`# Priority: ${H.priority}
`,R+=`# Note: ${H.userNote}
`,R+=`# Timestamp: ${H.timestamp}

`}),R}const x=()=>n(0,g="manual"),y=()=>n(0,g="automated"),k=()=>n(0,g="changes"),P=()=>n(1,m=!0);function C(){h=this.value,n(2,h)}function N(){b=lt(this),n(3,b)}function M(){_=lt(this),n(4,_)}const j=()=>n(1,m=!1);return t.$$.update=()=>{t.$$.dirty[0]&32768&&n(9,l=p),t.$$.dirty[0]&8192&&n(8,s=c),t.$$.dirty[0]&16384&&n(5,r=a.currentNode),t.$$.dirty[0]&16384&&n(7,i=a.availableTransitions),t.$$.dirty[0]&16384&&n(6,o=a.pathHistory)},[g,m,h,b,_,r,o,i,s,l,w,$,L,c,a,p,x,y,k,P,C,N,M,j]}class Vn extends be{constructor(e){super(),ge(this,e,Fn,On,ae,{},null,[-1,-1])}}function Lt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function At(t){let e,n,l,s,r=X(t[1]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Pt(Lt(t,r,o));return{c(){e=f("div"),n=f("span"),n.textContent="Scene:",l=v(),s=f("div");for(let o=0;o<i.length;o+=1)i[o].c();d(n,"class","text-sm font-medium text-gray-700 mr-3"),d(s,"class","flex space-x-1"),d(e,"class","flex items-center space-x-2")},m(o,c){A(o,e,c),u(e,n),u(e,l),u(e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,null)},p(o,c){if(c&3){r=X(o[1]);let a;for(a=0;a<r.length;a+=1){const p=Lt(o,r,a);i[a]?i[a].p(p,c):(i[a]=Pt(p),i[a].c(),i[a].m(s,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(o){o&&S(e),he(i,o)}}}function Pt(t){let e,n=t[6].sceneName+"",l,s,r,i,o;function c(){return t[5](t[8])}return{c(){e=f("button"),l=T(n),s=v(),d(e,"class",r="scene-tab "+(t[8]===t[0]?"scene-tab-active":"scene-tab-inactive"))},m(a,p){A(a,e,p),u(e,l),u(e,s),i||(o=G(e,"click",c),i=!0)},p(a,p){t=a,p&2&&n!==(n=t[6].sceneName+"")&&q(l,n),p&1&&r!==(r="scene-tab "+(t[8]===t[0]?"scene-tab-active":"scene-tab-inactive"))&&d(e,"class",r)},d(a){a&&S(e),i=!1,o()}}}function Bn(t){let e,n,l,s,r,i,o,c,a,p,g,m,h=t[3].stateNodes.length+"",b,_,w,$,L,E=t[3].messageFlows.length+"",x,y,k,P,C,N=t[1].length+"",M,j,D,R,H,B,I,z,U,Y,J,ce,ue,K,ie,Me,de,V,ee,fe,Te,ve,Je,je,pe,W=t[1].length>0&&At(t);return J=new Cn({props:{currentSceneData:t[2]}}),V=new Tn({props:{currentSceneData:t[2]}}),ve=new Vn({}),{c(){e=f("div"),n=f("div"),l=f("div"),s=f("div"),r=f("div"),i=f("div"),o=f("div"),o.innerHTML='<div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div> <span class="text-sm font-medium text-gray-700">Live Visualization</span>',c=v(),a=f("div"),a.textContent="|",p=v(),g=f("div"),m=f("span"),b=T(h),_=T(" states"),w=v(),$=f("div"),L=f("span"),x=T(E),y=T(" flows"),k=v(),P=f("div"),C=f("span"),M=T(N),j=T(" scenes"),D=v(),W&&W.c(),R=v(),H=f("div"),B=f("div"),I=f("div"),z=f("div"),z.innerHTML=`<div><h3 class="text-lg font-semibold text-gray-900">Live Mobile Mockup</h3> <p class="text-sm text-gray-500 mt-1">Interactive prototype with touch simulation</p></div> <div class="flex space-x-2"><button class="px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors font-medium"><svg class="w-3 h-3 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
              Reset</button> <button class="px-3 py-1.5 text-xs bg-green-100 hover:bg-green-200 text-green-700 rounded-lg transition-colors font-medium"><svg class="w-3 h-3 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M9 10V9a3 3 0 013-3m0 0a3 3 0 013 3v1m0 0h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H21"></path></svg>
              Auto-Run</button></div>`,U=v(),Y=f("div"),oe(J.$$.fragment),ce=v(),ue=f("div"),K=f("div"),ie=f("div"),ie.innerHTML=`<div class="flex items-center justify-between"><div><h3 class="text-lg font-semibold text-white">Interactive Flow Diagram</h3> <p class="text-slate-300 text-sm mt-1">Real-time state visualization with clickable nodes</p></div> <div class="flex space-x-2"><button class="px-3 py-1.5 text-xs bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors font-medium"><svg class="w-3 h-3 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                Export SVG</button> <button class="px-3 py-1.5 text-xs bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors font-medium"><svg class="w-3 h-3 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                Zoom</button></div></div>`,Me=v(),de=f("div"),oe(V.$$.fragment),ee=v(),fe=f("div"),Te=f("div"),oe(ve.$$.fragment),Je=v(),je=f("div"),je.innerHTML='<div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white"><div class="flex items-center justify-between"><div><h4 class="text-lg font-semibold mb-2">Ready to iterate?</h4> <p class="text-blue-100 text-sm">Add change requests to any screen, then export enhanced APML for your next development cycle.</p></div> <div class="flex space-x-3"><button class="px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg transition-colors font-medium text-sm">Export APML with CRs</button> <button class="px-4 py-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-colors font-medium text-sm">Load New APML</button></div></div></div>',d(o,"class","flex items-center space-x-2"),d(a,"class","text-sm text-gray-500"),d(m,"class","font-semibold text-blue-600"),d(g,"class","text-sm text-gray-600"),d(L,"class","font-semibold text-purple-600"),d($,"class","text-sm text-gray-600"),d(C,"class","font-semibold text-green-600"),d(P,"class","text-sm text-gray-600"),d(i,"class","flex items-center space-x-4"),d(r,"class","flex items-center space-x-6"),d(s,"class","flex items-center justify-between"),d(l,"class","bg-white rounded-2xl shadow-sm border border-gray-200 p-6"),d(n,"class","mb-8"),d(z,"class","flex items-center justify-between mb-6"),d(Y,"class","flex justify-center h-full"),d(I,"class","bg-white rounded-2xl shadow-sm border border-gray-200 p-6 h-full"),d(B,"class","col-span-4"),d(ie,"class","bg-gradient-to-r from-slate-800 to-slate-900 px-6 py-4"),d(de,"class","h-full"),d(K,"class","bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden h-full"),d(ue,"class","col-span-5"),d(Te,"class","bg-white rounded-2xl shadow-sm border border-gray-200 h-full"),d(fe,"class","col-span-3"),d(H,"class","grid grid-cols-12 gap-6 h-[800px]"),d(je,"class","mt-6"),d(e,"class","py-6")},m(F,re){A(F,e,re),u(e,n),u(n,l),u(l,s),u(s,r),u(r,i),u(i,o),u(i,c),u(i,a),u(i,p),u(i,g),u(g,m),u(m,b),u(g,_),u(i,w),u(i,$),u($,L),u(L,x),u($,y),u(i,k),u(i,P),u(P,C),u(C,M),u(P,j),u(s,D),W&&W.m(s,null),u(e,R),u(e,H),u(H,B),u(B,I),u(I,z),u(I,U),u(I,Y),ne(J,Y,null),u(H,ce),u(H,ue),u(ue,K),u(K,ie),u(K,Me),u(K,de),ne(V,de,null),u(H,ee),u(H,fe),u(fe,Te),ne(ve,Te,null),u(e,Je),u(e,je),pe=!0},p(F,[re]){(!pe||re&8)&&h!==(h=F[3].stateNodes.length+"")&&q(b,h),(!pe||re&8)&&E!==(E=F[3].messageFlows.length+"")&&q(x,E),(!pe||re&2)&&N!==(N=F[1].length+"")&&q(M,N),F[1].length>0?W?W.p(F,re):(W=At(F),W.c(),W.m(s,null)):W&&(W.d(1),W=null);const et={};re&4&&(et.currentSceneData=F[2]),J.$set(et);const tt={};re&4&&(tt.currentSceneData=F[2]),V.$set(tt)},i(F){pe||(Z(J.$$.fragment,F),Z(V.$$.fragment,F),Z(ve.$$.fragment,F),pe=!0)},o(F){te(J.$$.fragment,F),te(V.$$.fragment,F),te(ve.$$.fragment,F),pe=!1},d(F){F&&S(e),W&&W.d(),le(J),le(V),le(ve)}}}function Un(t,e,n){let l,s,r,i;ke(t,qt,a=>n(4,r=a)),ke(t,Oe,a=>n(3,i=a));let o=0;const c=a=>n(0,o=a);return t.$$.update=()=>{t.$$.dirty&16&&n(1,l=r),t.$$.dirty&3&&n(2,s=l[o]||null)},[o,l,s,i,r,c]}class Gn extends be{constructor(e){super(),ge(this,e,Un,Bn,ae,{})}}function Wn(t){let e,n,l,s,r,i;return r=new rn({props:{routes:t[0]}}),{c(){e=f("main"),n=f("header"),n.innerHTML='<div class="max-w-7xl mx-auto px-6 py-4"><div class="flex items-center justify-between"><div class="flex items-center space-x-4"><div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div><h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">APML Development Engine</h1> <p class="text-sm text-gray-600">Interactive Flow Visualiser</p></div></div> <div class="flex items-center space-x-3"><div class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium">v1.0.0 Beta</div> <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button></div></div></div>',l=v(),s=f("div"),oe(r.$$.fragment),d(n,"class","bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50"),d(s,"class","max-w-7xl mx-auto px-6"),d(e,"class","min-h-screen bg-gradient-to-br from-slate-50 to-blue-50")},m(o,c){A(o,e,c),u(e,n),u(e,l),u(e,s),ne(r,s,null),i=!0},p:O,i(o){i||(Z(r.$$.fragment,o),i=!0)},o(o){te(r.$$.fragment,o),i=!1},d(o){o&&S(e),le(r)}}}function Xn(t){return[{"/":vn,"/dashboard":Gn}]}class Yn extends be{constructor(e){super(),ge(this,e,Xn,Wn,ae,{})}}new Yn({target:document.getElementById("app")});
